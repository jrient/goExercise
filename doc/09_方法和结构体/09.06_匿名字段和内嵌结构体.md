## 匿名字段和内嵌结构体

---

[toc]

### 定义

结构体可以包含一个或多个 **匿名（或内嵌）** 字段，即这些字段没有显式的名字，只有字段的类型是必须的，此时类型就是字段的名字。匿名字段本身可以是一个结构体类型，即 结构体可以包含内嵌结构体。

可以粗略地将这个和面向对象语言中的继承概念相比较，随后将会看到它被用来模拟类似继承的行为。Go 语言中的继承是通过内嵌或组合来实现的，所以可以说，在 Go 语言中，相比较于继承，组合更受青睐。

示例： [struct_anonymous_fields.go](./src/struct_anonymous_fields.go)

通过类型 `outer.int` 的名字来获取存储在匿名字段中的数据，于是可以得出一个结论：在一个结构体中对于每一种数据类型只能有一个匿名字段。

### 内嵌结构体

同样地结构体也是一种数据类型，所以它也可以作为一个匿名字段来使用。通过内嵌结构体的方式，来实现继承。

示例：[embed_struct.go](./src/embed_struct.go)

### 命名冲突

当两个字段拥有相同的名字：

1. 外层名字会覆盖内层名字（但是两者的内存空间都保留），这提供了一种重载字段或方法的方式；
2. 如果相同的名字在同一级别出现了两次，如果这个名字被程序使用了，将会引发一个错误（不使用没关系）。没有办法来解决这种问题引起的二义性，必须由程序员自己修正。